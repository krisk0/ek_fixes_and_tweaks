# With increased babies count, child naming becomes tedious. Disable the dialog
#  unless the $CHILD$ is your son or daughter.
allow_naming_on_birth_of_child_trigger = {
	# ek_fixes_and_tweaks changes start
	exists = $CHILD$
	is_ai = no
	save_temporary_scope_as = naming_parent
	$CHILD$ = {
		any_parent = {
			this = scope:naming_parent
		}
	}
	#is_close_family_of = $CHILD$ — disabled, too many of them
	# ek_fixes_and_tweaks changes end
	
	### EK EDIT: Argonian Hatchlings
	# Argonian kiddos are named 'Hatchlings' and only take a full name once they reach adulthood
	$CHILD$.culture = {
		# Kid is either
		OR = {
			NOT = { has_cultural_pillar = heritage_argonian } # not argonian, hence gets naming event
			OR = { # or is a ojel, hence gets naming event
				this = culture:ojel
				any_parent_culture_or_above = {
					this = culture:ojel
				}
			}
		}
	}
	
	OR = {
		#I am the only player parent of child
		NOT = {
			$CHILD$ = {
				any_parent = {
					is_ai = no
					NOT = { this = scope:naming_parent }
				}
			}
		}
		#I am the best player to name this child
		AND = {
			$CHILD$ = { #There are two player parents
				exists = father
				exists = mother
				NOT = { any_parent = { is_ai = yes } }
			}
			OR = {
				AND = { #They are of my dynasty, not theirs
					dynasty = $CHILD$.dynasty
					$CHILD$ = {
						any_parent = {
							NOT = { this = scope:naming_parent }
							NOT = { dynasty = $CHILD$.dynasty }
						}
					}
				}
				AND = { #I am their mother, and parents are of same dynasty/neither has baby's dynasty
					$CHILD$ = { mother = { this = scope:naming_parent } }
					OR = {
						$CHILD$.mother.dynasty = $CHILD$.father.dynasty
						NOR = {
							$CHILD$.mother.dynasty = $CHILD$.dynasty
							$CHILD$.father.dynasty = $CHILD$.dynasty
						}
					}
				}
			}
		}
	}
}
